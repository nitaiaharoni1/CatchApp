/*
 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var q="function"==typeof Object.defineProperties?Object.defineProperty:function(a,n,l){a!=Array.prototype&&a!=Object.prototype&&(a[n]=l.value)},r="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,t=["Object","assign"],u=0;u<t.length-1;u++){var v=t[u];v in r||(r[v]={});r=r[v]}
var w=t[t.length-1],x=r[w],y=x?x:function(a,n){for(var l=1;l<arguments.length;l++){var h=arguments[l];if(h)for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(a[f]=h[f])}return a};y!=x&&null!=y&&q(r,w,{configurable:!0,writable:!0,value:y});
(function(a){function n(h){if(l[h])return l[h].a;var f=l[h]={ia:h,O:!1,a:{}};a[h].call(f.a,f,f.a,n);f.O=!0;return f.a}var l={};n.B=a;n.s=l;n.c=function(a,f){n.h(a)||Object.defineProperty(a,"a",{configurable:!1,enumerable:!0,get:f})};n.v=function(a){var f=a&&a.X?function(){return a["default"]}:function(){return a};n.c(f,f);return f};n.h=function(a){return Object.prototype.hasOwnProperty.call(a,"a")};n.A="";return n(n.wa=2)})([function(a,n,l){function h(c,d,b){c[b]=f(c[b],d)}function f(c,d){var e=c.length+
1;2==d?e=8:16==d&&(e=2);return b(c,e)}function g(c,d,b){2==d&&4>c[b].length&&(c[b]=Array(5-c[b].length).join("0")+c[b])}function p(c,d,b){(2==d||16==d)&&2>c[b].length&&(c[b]="0"+c[b])}function b(c,d){for(;c.length<d;)c="0"+c;return c}function k(c,d,b){b=void 0===b?h:b;if(10!=d)for(var e=0,a=c.length;e<a;)c[e]=c[e].toString(d),b(c,d,e),e++}var m=l(5),d=l(1);a.a.C=function(c,d){d.o&&m(c,d.offset)};a.a.R=function(c,d,b){4==d?k(c,b,g):2==d?k(c,b,p):1==d?k(c,b,function(){}):k(c,b)};a.a.padding=h;a.a.za=
g;a.a.ya=p;a.a.K=f;a.a.P=b;a.a.f=function(c,b,a){c=Object.assign(new d({}),c);c.i=b;c.G=a;return c};a.a.U=function(c){Array.isArray(c)||"string"==typeof c||(c=[c]);return c}},function(a,n,l){function h(a){this.b=a.bits;this.char=a["char"];this.c=a["float"];this.o=a.be;this.B=this.c?!0:a.signed;this.G=!0;this.J=this.F=null;this.offset=0;this.i=10;this.min=-Infinity;this.max=Infinity;this.h()}var f=l(6);h.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};h.prototype.overflow=function(a){a>
this.max?a=this.max:a<this.min&&(a=this.min);return a};h.prototype.h=function(){this.offset=8>this.b?1:this.b/8;this.v();this.A();this.c||this.s()};h.prototype.v=function(){this.F=this.char?f.l.readChar:f.l["read"+(8>this.b?8:this.b)+"Bit"+(this.c?"Float":"")]};h.prototype.A=function(){this.J=this.char?f.m.writeString:f.m["write"+this.b+"Bit"+(this.c?"Float":"")]};h.prototype.s=function(){var a=Math.pow(2,this.b);this.B?(this.max=a/2-1,this.min=a/2*-1):(this.max=a-1,this.min=0)};a.a=h},function(a,
n,l){function h(d,c){(void 0===c?0:c)||(k.be="RIFX"==d.chunkId);c=b.j(d.chunkId,m).concat(b.D(d.chunkSize,k),b.j(d.format,m),f(d.subChunks,k.o));if("RIFF"==d.chunkId||"RIFX"==d.chunkId)c=new Uint8Array(c);return c}function f(d,c){for(var a=[],f=0;f<d.length;)a="LIST"==d[f].chunkId?a.concat(h(d[f],c)):a.concat(b.j(d[f].chunkId,m),b.D(d[f].chunkSize,k),d[f].chunkData),f++;return a}function g(d){for(var c=[],b=12;b<d.length;)c.push(p(d,b)),b+=8+c[c.length-1].u;return c}function p(d,c){var a={chunkId:b.g(d.slice(c,
c+4),m),chunkSize:b.I(d.slice(c+4,c+8),k)};"LIST"==a.$?(a.format=b.g(d.slice(8,12),m),a.Aa=g(d.slice(c,c+a.u))):a.Z=d.slice(c+8,c+8+a.u);return a}var b=l(3),k=b.V,m=b.L;window.riffChunks=window.riffChunks||{};window.riffChunks.read=function(d){d=[].slice.call(d);var c=b.g(d.slice(0,4),m);k.be="RIFX"==c;return{chunkId:c,chunkSize:b.I(d.slice(4,8),k),format:b.g(d.slice(8,12),m),subChunks:g(d)}};window.riffChunks.write=h},function(a,n,l){function h(b,a,d){d=p.f(a,void 0===d?10:d,!0);b=d.char?b.slice(0,
a.b/8):b;return g.H(p.U(b),d)}function f(b,a,d){return g.w(b,p.f(a,void 0===d?10:d,!0))}var g=l(4),p=l(0),b=l(1);a.a.D=h;a.a.I=f;a.a.j=function(b,a){return g.H(b,p.f(a,10,!1))};a.a.g=function(b,a){return g.w(b,p.f(a,10,!1))};a.a.Na=function(b,a,d){d=void 0===d?10:d;for(var c=0,e=0;e<a.length;e++)c+=a[e].b/8;if(b.length<c)return[];c=[];for(var k=e=0;e<a.length;){var m=8>a[e].b?1:a[e].b/8;c=c.concat(f(b.slice(k,k+m),a[e],d));k+=m;e++}return c};a.a.xa=function(b,a,d){d=void 0===d?10:d;if(b.length<a.length)return[];
for(var c=[],e=0;e<a.length;e++)c=c.concat(h(b[e],a[e],d));return c};a.a.aa=function(a,m){for(var d,c=0;c<a.length;c++)if(d=f(a.slice(c,c+m.length+1),new b({bits:8*m.length,"char":!0})),d==m)return c;return-1};a.a.W=b;a.a.L=new b({bits:8,"char":!0});a.a.ha=new b({bits:32,"char":!0});a.a.Y=new b({bits:1});a.a.la=new b({bits:2,signed:!0});a.a.Da=new b({bits:2});a.a.qa=new b({bits:4,signed:!0});a.a.Ha=new b({bits:4});a.a.va=new b({bits:8,signed:!0});a.a.Ma=new b({bits:8});a.a.ja=new b({bits:16,signed:!0});
a.a.Ba=new b({bits:16});a.a.ba=new b({bits:16,"float":!0});a.a.ma=new b({bits:24,signed:!0});a.a.Ea=new b({bits:24});a.a.oa=new b({bits:32,signed:!0});a.a.V=new b({bits:32});a.a.da=new b({bits:32,"float":!0});a.a.ra=new b({bits:40,signed:!0});a.a.Ia=new b({bits:40});a.a.ta=new b({bits:48,signed:!0});a.a.Ka=new b({bits:48});a.a.fa=new b({bits:64,"float":!0});a.a.ka=new b({bits:16,signed:!0,be:!0});a.a.Ca=new b({bits:16,be:!0});a.a.ca=new b({bits:16,"float":!0,be:!0});a.a.na=new b({bits:24,signed:!0,
be:!0});a.a.Fa=new b({bits:24,be:!0});a.a.pa=new b({bits:32,signed:!0,be:!0});a.a.Ga=new b({bits:32,be:!0});a.a.ea=new b({bits:32,"float":!0,be:!0});a.a.sa=new b({bits:40,signed:!0,be:!0});a.a.Ja=new b({bits:40,be:!0});a.a.ua=new b({bits:48,signed:!0,be:!0});a.a.La=new b({bits:48,be:!0});a.a.ga=new b({bits:64,"float":!0,be:!0})},function(a,n,l){var h=l(0);a.a.H=function(a,g){for(var f=0,b=0,k=a.length,m=[];f<k;)b=g.J(m,g.overflow(a[f]),b),f++;h.C(m,g);h.R(m,g.b,g.i);return m};a.a.w=function(a,g){h.C(a,
g);var f=g.i;if(10!=f)for(var b=0,k=a.length;b<k;)a[b]=parseInt(a[b],f),b++;f=[];b=0;for(k=a.length-(g.offset-1);b<k;)f.push(g.sign(g.F(a,b,g))),b+=g.offset;g.char&&(f=f.join(""));a=f;g.G&&(a=g.char?a.slice(0,g.b/8):a[0]);return a}},function(a){a.a=function(a,l){for(var h=a.length,f=0;f<h;){for(var g=a,n=f,b=0,k=l-1,m=parseInt(l/2,10);b<m;){var d=g[n+b];g[n+b]=g[n+k];g[n+k]=d;b++;k--}f+=l}}},function(a,n,l){function h(a,c,b){--b;for(var d="";0<=b;)d+=f.K(a[b+c].toString(2),2),b--;return parseInt(d,
2)}var f=l(0),g=l(7);n=new Int8Array(4);var p=new Int32Array(n.buffer,0,1),b=new Float32Array(n.buffer,0,1),k={read8Bit:function(a,c){return a[c]},read16Bit:function(a,c){return a[1+c]<<8|a[c]},read16BitFloat:function(a,c){return g.M([a[c+1],a[c]])},read24Bit:function(a,c){return a[2+c]<<16|k.read16Bit(a,c)},read32Bit:function(a,c){return(a[3+c]<<24|k.read24Bit(a,c))>>>0},read32BitFloat:function(a,c){p[0]=k.read32Bit(a,c);return b[0]},read40Bit:function(a,c){return h(a,c,5)},read48Bit:function(a,
c){return h(a,c,6)},read64BitFloat:function(a,c){return g.N(a.slice(c,c+8))},readChar:function(a,c,b){var d="",e=0;for(b=b.b/8;e<b;)d+=String.fromCharCode(a[c+e]),e++;return d}},m={write64BitFloat:function(a,b,e){b=g.S(b);e=m.write32Bit(a,b[1],e);return m.write32Bit(a,b[0],e)},write48Bit:function(a,b,e){e=m.write40Bit(a,b,e);a[e++]=b/1099511627776&255;return e},write40Bit:function(a,b,e){e=m.write32Bit(a,b,e);a[e++]=b/4294967296&255;return e},write32BitFloat:function(a,c,e){b[0]=c;return e=m.write32Bit(a,
p[0],e)},write32Bit:function(a,b,e){e=m.write24Bit(a,b,e);a[e++]=b>>>24&255;return e},write24Bit:function(a,b,e){e=m.write16Bit(a,b,e);a[e++]=b>>>16&255;return e},write16Bit:function(a,b,e){a[e++]=b&255;a[e++]=b>>>8&255;return e},write16BitFloat:function(a,b,e){b=g.T(b);a[e]=b&255;a[e+1]=b>>>8&255;return e+2},write8Bit:function(a,b,e){a[e++]=b&255;return e},write4Bit:function(a,b,e){a[e++]=b&15;return e},write2Bit:function(a,b,e){a[e++]=0>b?b+4:b;return e},write1Bit:function(a,b,e){a[e++]=b?1:0;return e},
writeString:function(a,b,e){a[e++]=b.charCodeAt(0);return e}};a.a.m=m;a.a.l=k},function(a,n,l){function h(a,k){k=void 0===k?!1:k;for(var b="",d=0,c=a.length;d<c;){var e=f.P(a[d].toString(2),8);b=k?b+e:e+b;d++}return b}var f=l(0),g=new Float32Array(1),p=new Int32Array(g.buffer);a.a.M=function(a){a=parseInt(h(a,!0),2);var b=(a&31744)>>10,f=a&1023;return(b?Math.pow(2,b-15)*(1+f/1024):f/1024*.00006103515625)*(a>>15?-1:1)};a.a.N=function(a){if("0,0,0,0,0,0,0,0"==a.toString())return 0;a=h(a);for(var b=
"1"+a.substr(12,52),f=1,d=0,c=0;c<b.length;)d+=f*parseInt(b.charAt(c),10),f/=2,c++;return("1"==a.charAt(0)?-1:1)*d*Math.pow(2,parseInt(a.substr(1,11),2)-1023)};a.a.S=function(a){if(0==a)return[0,0];var b=0;0>=a&&(b=2147483648,a=-a);var f=Math.floor(Math.log(a)/Math.log(2)),d=Math.floor(a/Math.pow(2,f)*Math.pow(2,52));a=d&4294967295;d/=Math.pow(2,32);return[b|f+1023<<20|d&1048575,a]};a.a.T=function(a){g[0]=a;var b=p[0];a=b>>16&32768;var f=b>>12&2047;b=b>>23&255;return 103>b?a:(a|b-112<<10|f>>1)+(f&
1)}}]);
