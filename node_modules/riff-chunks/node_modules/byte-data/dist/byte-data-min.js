/*
 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

*/
for(var n="function"==typeof Object.defineProperties?Object.defineProperty:function(m,h,k){m!=Array.prototype&&m!=Object.prototype&&(m[h]=k.value)},q="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,r=["Object","assign"],t=0;t<r.length-1;t++){var u=r[t];u in q||(q[u]={});q=q[u]}
var v=r[r.length-1],w=q[v],x=w?w:function(m,h){for(var k=1;k<arguments.length;k++){var d=arguments[k];if(d)for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(m[g]=d[g])}return m};x!=w&&null!=x&&n(q,v,{configurable:!0,writable:!0,value:x});
(function(m){function h(d){if(k[d])return k[d].g;var g=k[d]={H:d,F:!1,g:{}};m[d].call(g.g,g,g.g,h);g.F=!0;return g.g}var k={};h.w=m;h.o=k;h.f=function(d,g){h.i(d)||Object.defineProperty(d,"a",{configurable:!1,enumerable:!0,get:g})};h.s=function(d){var g=d&&d.G?function(){return d["default"]}:function(){return d};h.f(g,g);return g};h.i=function(d){return Object.prototype.hasOwnProperty.call(d,"a")};h.v="";return h(h.A=1)})([function(m,h,k){function d(b){this.a=b.bits;this.char=b["char"];this.f=b["float"];
this.m=b.be;this.A=this.f?!0:b.signed;this.D=this.B=null;this.offset=0;this.c=b.base?b.base:10;this.min=-Infinity;this.max=Infinity;this.i();this.b=this.a}var g=k(3);d.prototype.sign=function(b){b>this.max&&(b-=2*this.max+2);return b};d.prototype.overflow=function(b){b>this.max?b=this.max:b<this.min&&(b=this.min);return b};d.prototype.i=function(){this.v();this.offset=8>this.a?1:this.b/8;this.s();this.w();this.f||this.o()};d.prototype.s=function(){this.B=this.char?g.j.readChar:g.j["read"+(8>this.a?
8:this.b)+"Bit"+(this.f?"Float":"")]};d.prototype.w=function(){this.D=this.char?g.l.writeString:g.l["write"+this.b+"Bit"+(this.f?"Float":"")]};d.prototype.o=function(){var b=Math.pow(2,this.a);this.A?(this.max=b/2-1,this.min=-b/2):(this.max=b-1,this.min=0)};d.prototype.v=function(){this.b=8<this.a?16>=this.a?16:24>=this.a?24:32>=this.a?32:40>=this.a?40:48>=this.a?48:53>=this.a?53:64:this.a};m.g=d},function(m,h,k){function d(a,f,e){var c=[];f.char?c=f.char?a.slice(0,f.b/8):a:Array.isArray(a)||(c=[a]);
return b.C(c,b.h(f,void 0===e?10:e))}function g(a,f,e){a=b.u(a.slice(0,8>f.a?f.a:f.b/8),b.h(f,void 0===e?10:e));return a=f.char?a.slice(0,f.a/8):a[0]}var b=k(2),a=k(0);window.byteData=window.byteData?window.byteData:{};window.byteData.pack=d;window.byteData.unpack=g;window.byteData.packArray=function(a,f,e){return b.C(a,b.h(f,void 0===e?10:e))};window.byteData.unpackArray=function(a,f,e){return b.u(a,b.h(f,void 0===e?10:e))};window.byteData.unpackStruct=function(a,b,e){e=void 0===e?10:e;for(var c=
0,l=0;l<b.length;l++)c+=b[l].b/8;if(a.length<c)return[];c=[];for(var f=l=0;l<b.length;){var d=8>b[l].a?1:b[l].b/8;c=c.concat(g(a.slice(f,f+d),b[l],e));f+=d;l++}return c};window.byteData.packStruct=function(a,b,e){e=void 0===e?10:e;if(a.length<b.length)return[];for(var c=[],l=0;l<b.length;l++)c=c.concat(d(a[l],b[l],e));return c};window.byteData.findString=function(b,f){for(var e,c=0;c<b.length;c++)if(e=g(b.slice(c,c+f.length+1),new a({bits:8*f.length,"char":!0})),e==f)return c;return-1};window.byteData.Type=
a;window.byteData.chr=new a({bits:8,"char":!0});window.byteData.fourCC=new a({bits:32,"char":!0});window.byteData.bool=new a({bits:1});window.byteData.int2=new a({bits:2,signed:!0});window.byteData.uInt2=new a({bits:2});window.byteData.int4=new a({bits:4,signed:!0});window.byteData.uInt4=new a({bits:4});window.byteData.int8=new a({bits:8,signed:!0});window.byteData.uInt8=new a({bits:8});window.byteData.int16=new a({bits:16,signed:!0});window.byteData.uInt16=new a({bits:16});window.byteData.float16=
new a({bits:16,"float":!0});window.byteData.int24=new a({bits:24,signed:!0});window.byteData.uInt24=new a({bits:24});window.byteData.int32=new a({bits:32,signed:!0});window.byteData.uInt32=new a({bits:32});window.byteData.float32=new a({bits:32,"float":!0});window.byteData.int40=new a({bits:40,signed:!0});window.byteData.uInt40=new a({bits:40});window.byteData.int48=new a({bits:48,signed:!0});window.byteData.uInt48=new a({bits:48});window.byteData.float64=new a({bits:64,"float":!0});window.byteData.int16BE=
new a({bits:16,signed:!0,be:!0});window.byteData.uInt16BE=new a({bits:16,be:!0});window.byteData.float16BE=new a({bits:16,"float":!0,be:!0});window.byteData.int24BE=new a({bits:24,signed:!0,be:!0});window.byteData.uInt24BE=new a({bits:24,be:!0});window.byteData.int32BE=new a({bits:32,signed:!0,be:!0});window.byteData.uInt32BE=new a({bits:32,be:!0});window.byteData.float32BE=new a({bits:32,"float":!0,be:!0});window.byteData.int40BE=new a({bits:40,signed:!0,be:!0});window.byteData.uInt40BE=new a({bits:40,
be:!0});window.byteData.int48BE=new a({bits:48,signed:!0,be:!0});window.byteData.uInt48BE=new a({bits:48,be:!0});window.byteData.float64BE=new a({bits:64,"float":!0,be:!0})},function(m,h,k){var d=k(0),g=k(4);h.h=function(b,a){b=Object.assign(new d({}),b);b.c=a;return b};h.C=function(b,a){for(var d=0,f=0,e=b.length,c=[];d<e;)f=a.D(c,a.overflow(b[d]),f),d++;a.m&&g(c,a.offset);if(10!=a.c){b=a.c;d=0;for(f=c.length;d<f;)c[d]=c[d].toString(b),d++;b=0;d=c.length;for(a=8>a.b?(2==a.c?a.a:5>a.a?1:2)+1:(2==
a.c?8:2)+1;b<d;)c[b]=Array(a-c[b].length).join("0")+c[b],b++}return c};h.u=function(b,a){a.m&&g(b,a.offset);if(10!=a.c)for(var d=a.c,f=0,e=b.length;f<e;)b[f]=parseInt(b[f],d),f++;d=[];f=0;for(e=b.length-(a.offset-1);f<e;)d.push(a.overflow(a.sign(a.B(b,f,a)))),f+=a.offset;a.char&&(d=d.join(""));return d}},function(m,h){function k(e,c,a){--a;for(var l="";0<=a;){var b=e[a+c].toString(2);l+=Array(9-b.length).join("0")+b;a--}return parseInt(l,2)}var d=new Float32Array(1),g=new Int32Array(d.buffer),b=new Float64Array(1),
a=new Uint32Array(b.buffer),p={read8Bit:function(e,c){return e[c]},read16Bit:function(e,c){return e[1+c]<<8|e[c]},read16BitFloat:function(e,c){e=[e[c],e[c+1]];c="";for(var a=0,b=e.length;a<b;){var d=e[a].toString(2);c=Array(9-d.length).join("0")+d+c;a++}e=parseInt(c,2);c=(e&31744)>>10;a=e&1023;return(c?Math.pow(2,c-15)*(1+a/1024):a/1024*.00006103515625)*(e>>15?-1:1)},read24Bit:function(a,c){return a[2+c]<<16|p.read16Bit(a,c)},read32Bit:function(a,c){return(a[3+c]<<24|p.read24Bit(a,c))>>>0},read32BitFloat:function(a,
c){g[0]=p.read32Bit(a,c);return d[0]},read40Bit:function(a,c){return k(a,c,5)},read48Bit:function(a,c){return k(a,c,6)},read53Bit:function(a,c){return k(a,c,7)},read64BitFloat:function(e,c){a[0]=p.read32Bit(e,c);a[1]=p.read32Bit(e,c+4);return b[0]},readChar:function(a,c,b){var e="",l=0;for(b=b.a/8;l<b;)e+=String.fromCharCode(a[c+l]),l++;return e}},f={write64BitFloat:function(e,c,l){b[0]=c;l=f.write32Bit(e,a[0],l);return f.write32Bit(e,a[1],l)},write53Bit:function(a,c,b){b=f.write48Bit(a,c,b);a[b++]=
Math.floor(c/Math.pow(2,48))&255;return b},write48Bit:function(a,c,b){b=f.write40Bit(a,c,b);a[b++]=Math.floor(c/Math.pow(2,40))&255;return b},write40Bit:function(a,c,b){b=f.write32Bit(a,c,b);a[b++]=Math.floor(c/Math.pow(2,32))&255;return b},write32BitFloat:function(a,c,b){d[0]=c;return b=f.write32Bit(a,g[0],b)},write32Bit:function(a,c,b){b=f.write24Bit(a,c,b);a[b++]=c>>>24&255;return b},write24Bit:function(a,c,b){b=f.write16Bit(a,c,b);a[b++]=c>>>16&255;return b},write16Bit:function(a,b,d){a[d++]=
b&255;a[d++]=b>>>8&255;return d},write16BitFloat:function(a,b,f){d[0]=b;var c=g[0];b=c>>16&32768;var e=c>>12&2047;c=c>>23&255;103<=c&&(b=(b|c-112<<10|e>>1)+(e&1));a[f]=b&255;a[f+1]=b>>>8&255;return f+2},write8Bit:function(a,b,d){a[d++]=b&255;return d},write4Bit:function(a,b,d){a[d++]=b&15;return d},write2Bit:function(a,b,d){a[d++]=0>b?b+4:b;return d},write1Bit:function(a,b,d){a[d++]=b?1:0;return d},writeString:function(a,b,d){a[d++]=b.charCodeAt(0);return d}};h.l=f;h.j=p},function(m){m.g=function(h,
k){for(var d=h.length,g=0;g<d;){for(var b=h,a=g,m=0,f=k-1,e=parseInt(k/2,10);m<e;){var c=b[a+m];b[a+m]=b[a+f];b[a+f]=c;m++;f--}g+=k}}}]);
